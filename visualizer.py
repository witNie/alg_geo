import random

from matplotlib import pyplot as plt
from alg_without_list_q import algorithm
import matplotlib
matplotlib.use('TkAgg')
random.seed(42)

def vis(sections, res):
    i = 0
    for start, end in sections:
        x_values = [start[0], end[0]]
        y_values = [start[1], end[1]]
        plt.plot(x_values, y_values, marker='o', label=str(i))
        i += 1

    x_value = [p[0][0] for p in res]
    y_value = [p[0][1] for p in res]

    plt.scatter(x_value, y_value, color="black")

    plt.axhline(0, color='gray', linestyle='--', linewidth=0.5)
    plt.axvline(0, color='gray', linestyle='--', linewidth=0.5)
    plt.grid(True, linestyle='--', alpha=0.7)
    plt.legend(loc='upper left', fontsize=10)
    plt.title('Result')
    plt.xlabel('X')
    plt.ylabel('Y')

    plt.xlim(0,10)
    plt.ylim(0,10)
    plt.gca().set_aspect('equal', adjustable='box')

    plt.show()


if __name__ == "__main__":
    sections = [((1.4193548387096775, 5.887445887445888), (5.016129032258064, 2.0995670995671)),
                ((1.032258064516129, 1.7316017316017318), (5.096774193548386, 5.432900432900433)),
                ((1.596774193548387, 4.134199134199134), (1.7580645161290325, 3.9610389610389616)),
                ((2.2096774193548385, 3.67965367965368), (2.4354838709677415, 4.047619047619048)),
                ((3.9999999999999996, 3.7445887445887447), (4.241935483870968, 4.025974025974026)),
                ((2.4516129032258065, 8.982683982683982), (8.838709677419354, 5.497835497835498)),
                ((2.5806451612903225, 6.666666666666667), (8.951612903225806, 5.930735930735931)),
                ((3.2258064516129035, 7.445887445887446), (3.6129032258064515, 7.3809523809523805)),
                ((4.451612903225806, 7.22943722943723), (4.85483870967742, 7.012987012987014)),
                ((5.564516129032258, 6.9480519480519485), (5.758064516129032, 6.688311688311688)),
                ((5.35483870967742, 1.1038961038961042), (9.096774193548386, 5.0649350649350655)),
                ((6.161290322580646, 5.8441558441558445), (9.161290322580644, 4.090909090909092)),
                ((6.725806451612902, 3.9610389610389616), (7.209677419354838, 4.06926406926407)),
                ((5.596774193548386, 3.225108225108226), (6.225806451612904, 3.030303030303031))]
    result = [((3.356109685186427, 3.847786958217078), [0, 1]), ((7.801862346458728, 6.063547272380131), [5, 6]),
              ((8.526878056822554, 4.461669505962522), [11, 10])]

    vis(sections,result)